---
title: 欧几里得算法（gcd）
katex: true
date: 2022-01-13 16:06:00
categories: 
- leetcode
tags:
- 环状替换
- 数组翻转
- No189
---

>gcd(greatest common divisor) 最大公约数，指两个整数所有公共约数中最大的。
>公式：$gcd(a,b)=gcd(b,amodb)$

首先先上结论，求最大公约数，我们可以通过递归$gcd(a,b)=gcd(b,amodb)$，$gcd(a,0)=a$计算，复杂度是logn



证明步骤：

1. 证明$gcd(a,b)$是$b,a mod b$的一个公约数

2. 证明这个公约数是最大的。

### 证明$gcd(a,b)$是$b,amodb$的一个公约数
我们设$gcd(a,b)=d$，再令$a=k1*d,b=k2*d$

我们再设，$a=k*b+c$（也就是a除以b商k余c），那么c就是余数，也就是$amodb$.

讲上面那个式子移项，得到$c=a-k*b$，然后再把$a=k1*d,b=k2*d$，这两个式子里的a、b带入式子

得到:$c=k1*d-k*k2*d$，再提取公因数d，得到$c=(k1-k*k2)*d$。

这样就说明，c，也就是amodb有d这个约数，因为开始我们设b也有d这个约数，所以$gcd(a,b)$是b，amodb的一个公约数。

### 证明这个公约数是最大的
现在知道了它是一个公约数，那么怎么证它是最大的？（其实感性分析，$amodb$都变小了，公约数不可能更大呀！）

但是术学是一门严谨的学科，我们要严谨证明。我们知道，$c（amodb）=（k1-k*k2）*d,b=k2*d$，我们只需要证明$k1-k*k2、k2$互质就好了。

这里可以用到反证法：我们假设$k1-k*k2=q*t,k2=p*t$,并且$t>1$（也就是那两个不互质）。

我们将前面那个式子移项，得到$k1=q*t+k*k2$,再把这个k1代到最开始的$a=k1*d$，得到$a=（q*t+k*k2）*d$，再利用乘法分配律，得到：

$a=q*t*d+k*k2*d$，我们这时发现，$k2*d$不就是最开始的b吗？，将其带入，得到：$a=q*t*d+b*d$.
 　　
这时，我们再把$k2=p*t$代入开始的$b=k2*d$,得到$b=p*t*d$，再把这个式子代到$a=q*t*d+b*d$.得到了：$a=q*t*d+p*t*d$.提取公因数：$a=(q+p)*t*d$

现在，再和$b=p*t*d$比较，发现他们的最大公因数变成了$t*d$和开始矛盾，所以假设不成立，反证成功！
 　　
### Java代码
```
public int gcd(int x, int y) {
	return y > 0 ? gcd(y, x % y) : x;
}	
```

