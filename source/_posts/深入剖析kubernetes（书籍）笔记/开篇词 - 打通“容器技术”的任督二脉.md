---
title: 开篇词 - 打通“容器技术”的任督二脉
date: 2021-09-21 10:06:00
categories: 
- 深入剖析kubernetes（书籍）笔记
tags:
- kubernetes
---

### 问题

很多相似的问题被反复提及，比如：

- 为什么容器里只能跑“一个进程”？

- 为什么我原先一直在用的某个 JVM 参数，在容器里就不好使了？

- 为什么 Kubernetes 就不能固定 IP 地址？容器网络连不通又该如何去 Debug？

- Kubernetes 中 StatefulSet 和 Operator 到底什么区别？PV 和 PVC 这些概念又该怎么用？


### 专栏的初衷

**从过去以物理机和虚拟机为主体的开发运维环境，向以容器为核心的基础设施的转变过程，并不是一次温和的改革，而是涵盖了对网络、存储、调度、操作系统、分布式原理等各个方面的容器化理解和改造。**

这就导致了很多初学者，对于容器技术栈表现出来的这些难题，要么知识储备不足，要么杂乱无章、无法形成体系。这，也是很多初次参与 PaaS 项目的从业者们共同面临的一个困境。

其实，容器技术体系看似纷乱繁杂，却存在着很多可以“牵一发而动全身”的主线。比如，Linux 的进程模型对于容器本身的重要意义；或者，“控制器”模式对整个 Kubernetes 项目提纲挈领的作用。

但是，这些关于 Linux 内核、分布式系统、网络、存储等方方面面的积累，并不会在 Docker 或者 Kubernetes 的文档中交代清楚。可偏偏就是它们，才是真正掌握容器技术体系的精髓所在，是每一位技术从业者需要悉心修炼的“内功”。

### 专栏的 4 大模块

1. **“白话”容器技术基础：** 我希望用饶有趣味的解说，给你梳理容器技术生态的发展脉络，用最通俗易懂的语言描述容器底层技术的实现方式，让你知其然，也知其所以然。
2. **Kubernetes 集群的搭建与实践：** Kubernetes 集群号称“非常复杂”，但是如果明白了其中的架构和原理，选择了正确的工具和方法，它的搭建却也可以“一键安装”，它的应用部署也可以浅显易懂。
3. **容器编排与 Kubernetes 核心特性剖析：** 这是这个专栏最重要的内容。“编排”永远都是容器云项目的灵魂所在，也是 Kubernetes 社区持久生命力的源泉。在这一模块，我会从分布式系统设计的视角出发，抽象和归纳出这些特性中体现出来的普遍方法，然后带着这些指导思想去逐一阐述 Kubernetes 项目关于编排、调度和作业管理的各项核心特性。“不识庐山真面目，只缘身在此山中”，希望这样一个与众不同的角度，能够给你以全新的启发。
4. **Kubernetes 开源社区与生态：**“开源生态”永远都是容器技术和 Kubernetes 项目成功的关键。在这个模块，我会和你一起探讨，容器社区在开源软件工程指导下的演进之路；带你思考，如何同团队一起平衡内外部需求，让自己逐渐成为社区中不可或缺的一员。

#### 评论

1. 如果拿汽车来做比:
    Docker好比汽车引擎，
    Dockerfile相当于汽车蓝图，
    Docker image(镜像)就是汽车样板，
    Docker container(容器)类似于汽车的零部件，
    Docker Registry可以看作是4s店，
    Docker Compose就像老司机,
    Docker Volume就像是汽车的油箱, 如果把容器间内的io数据流比喻成汽油,
    Docker Swarm(或者K8s)就是交通枢纽。

2. kubernetes更关注容器与编排，在资源管理方面优势不大。但正确的姿势，是用好kubernetes 可扩展能力，让它跟yarn等一起都发挥出真正的实力。说白了就是给kubernetes 写自定义调度器。
